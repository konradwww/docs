(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{288:function(a,s,t){"use strict";t.r(s);var e={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},r=t(6),i=Object(r.a)(e,function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.slotKey}},[t("h1",{attrs:{id:"directus-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#directus-cli","aria-hidden":"true"}},[a._v("#")]),a._v(" Directus CLI")]),a._v(" "),t("p",[a._v("Directus Command-Line Interface (CLI) provides commands that allow you to perform various tasks such as installation, resetting a user's email, or upgrading the database to the most recent Directus schema.")]),a._v(" "),t("p",[a._v("You can use the "),t("code",[a._v("help")]),a._v(" command at any time to learn about available CLI actions:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[a._v("# this will provide information about the current modules")]),a._v("\nphp bin/directus "),t("span",{attrs:{class:"token function"}},[a._v("help")]),a._v("\n")])])]),t("p",[a._v('To get more information on an specific command you can type "help" followed by the command:')]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[a._v("# this provide information about the **install** module")]),a._v("\nphp bin/directus "),t("span",{attrs:{class:"token function"}},[a._v("help")]),a._v(" "),t("span",{attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("h3",{attrs:{id:"install-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-module","aria-hidden":"true"}},[a._v("#")]),a._v(" Install Module")]),a._v(" "),t("p",[a._v("Includes commands to install and configure Directus.")]),a._v(" "),t("h4",{attrs:{id:"configure-directus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-directus","aria-hidden":"true"}},[a._v("#")]),a._v(" Configure Directus:")]),a._v(" "),t("p",[a._v("Creates the "),t("code",[a._v("config.api.php")]),a._v(" file.")]),a._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),t("p",[a._v("This command will overwrite the default "),t("code",[a._v("config.api.php")]),a._v(" configuration file.")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:config -h "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("db_host"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -n "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("db_name"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -u "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("db_user"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -p "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("db_pass"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -e "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("directus_email"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ul",[t("li",[t("code",[a._v("db_host")]),a._v(" - The database host")]),a._v(" "),t("li",[t("code",[a._v("db_name")]),a._v(" - The database name (it must already exist)")]),a._v(" "),t("li",[t("code",[a._v("db_user")]),a._v(" - The database user's name")]),a._v(" "),t("li",[t("code",[a._v("db_pass")]),a._v(" - The database user's password")]),a._v(" "),t("li",[t("code",[a._v("directus_email")]),a._v(" - (Optional) The Directus email that will be used as sender in the mailing process")])]),a._v(" "),t("p",[a._v("Example: http://example.local")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:config -h localhost -n directus -u root -p pass\n")])])]),t("p",[a._v("Example: http://example.local/directus")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:config -h localhost -n directus -u root -p pass -d directus\n")])])]),t("h4",{attrs:{id:"populate-the-database-schema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#populate-the-database-schema","aria-hidden":"true"}},[a._v("#")]),a._v(" Populate the Database Schema:")]),a._v(" "),t("p",[a._v("Creates all of the Directus Core tables based on the configuration files: "),t("code",[a._v("/config/api.php")]),a._v(".")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:database\n")])])]),t("h4",{attrs:{id:"install-initial-configurations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-initial-configurations","aria-hidden":"true"}},[a._v("#")]),a._v(" Install Initial Configurations:")]),a._v(" "),t("p",[a._v("Create the default admin user and the site's default settings.")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:install -e "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("admin_email"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -p "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("admin_password"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -t "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("site_name"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ul",[t("li",[t("code",[a._v("admin_email")]),a._v(" - The admin email")]),a._v(" "),t("li",[t("code",[a._v("admin_password")]),a._v(" - The admin password")]),a._v(" "),t("li",[t("code",[a._v("site_name")]),a._v(" - The project title")])]),a._v(" "),t("p",[a._v("Example:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus install:install -e admin@directus.local -p password -t "),t("span",{attrs:{class:"token string"}},[a._v('"Directus Example"')]),a._v("\n")])])]),t("h3",{attrs:{id:"user-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-module","aria-hidden":"true"}},[a._v("#")]),a._v(" User Module")]),a._v(" "),t("p",[a._v("Includes commands to manage Directus users")]),a._v(" "),t("h4",{attrs:{id:"change-user-password"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#change-user-password","aria-hidden":"true"}},[a._v("#")]),a._v(" Change User Password:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus user:password -e "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("user_email"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" -p "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("new_password"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ul",[t("li",[t("code",[a._v("user_email")]),a._v(" - The user's email")]),a._v(" "),t("li",[t("code",[a._v("new_password")]),a._v(" - The user's new password")])]),a._v(" "),t("p",[a._v("Example:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus user:password -e admin@directus.local -p newpassword\n")])])]),t("h3",{attrs:{id:"database-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database-module","aria-hidden":"true"}},[a._v("#")]),a._v(" Database Module")]),a._v(" "),t("p",[a._v("Includes commands to manage Directus database schema")]),a._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("This requires that Directus has a valid connection configured in "),t("code",[a._v("config/api.php")]),a._v(".")])]),a._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),t("p",[a._v("Always backup your database before running the database module to prevent data loss.")])]),a._v(" "),t("h4",{attrs:{id:"install-directus-schema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-directus-schema","aria-hidden":"true"}},[a._v("#")]),a._v(" Install Directus Schema:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus db:install\n")])])]),t("h4",{attrs:{id:"upgrade-directus-schema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-directus-schema","aria-hidden":"true"}},[a._v("#")]),a._v(" Upgrade Directus Schema")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ bin/directus db:upgrade\n")])])]),t("p",[a._v("The command above will upgrade the default project database, to update an specific project the option "),t("code",[a._v("N")]),a._v(" can be used.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ bin/directus db:upgrade -N <project-name>\n")])])]),t("h3",{attrs:{id:"log-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log-module","aria-hidden":"true"}},[a._v("#")]),a._v(" Log Module")]),a._v(" "),t("h4",{attrs:{id:"prune-old-log-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prune-old-log-files","aria-hidden":"true"}},[a._v("#")]),a._v(" Prune Old Log Files")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("php bin/directus log:prune "),t("span",{attrs:{class:"token operator"}},[a._v("<")]),a._v("days"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[t("code",[a._v("<days>")]),a._v(" is optional. The default value is "),t("code",[a._v("30")]),a._v(" days.")]),a._v(" "),t("p",[a._v("Removes all the logs that were last modified "),t("code",[a._v("<days>")]),a._v(" ago. it uses "),t("a",{attrs:{href:"http://php.net/manual/en/function.filemtime.php",target:"_blank",rel:"noopener noreferrer"}},[t("code",[a._v("filemtime")]),t("OutboundLink")],1),a._v(" function to determine the last modified time.")]),a._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("You can setup a cronjob to clean old files at a set frequency")])])])},[],!1,null,null,null);i.options.__file="cli.md";s.default=i.exports}}]);