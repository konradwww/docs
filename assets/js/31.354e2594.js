(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{292:function(e,t,n){"use strict";n.r(t);var s={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},a=n(6),i=Object(a.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.slotKey}},[n("h1",{attrs:{id:"nginx-setup"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-setup","aria-hidden":"true"}},[e._v("#")]),e._v(" NGINX Setup")]),e._v(" "),n("p",[e._v("To get Directus working on NGINX servers all you need to do is ensure that traffic is routed to the correct files. Below are some sample configurations:")]),e._v(" "),n("h3",{attrs:{id:"directus-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#directus-conf","aria-hidden":"true"}},[e._v("#")]),e._v(" "),n("code",[e._v("directus.conf")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("location /api {\n  if (!-e $request_filename) {\n    rewrite ^/api/extensions/([^/]+) /api/api.php?run_extension=$1 last;\n  }\n  rewrite ^ /api/api.php?run_api_router=1 last;\n}\n\nlocation / {\n  try_files $uri $uri/ /index.php$args;\n}\n\nlocation /thumbnail {\n  rewrite ^ /thumbnail/index.php last;\n}\n\n# Force file extensions to output as text\nlocation ~ ^/(media|storage)/.*\\.(php|phps|php5|htm|shtml|xhtml|cgi.+)?$ {\n  add_header Content-Type text/plain;\n}\n\n# No direct access to extension files\nlocation ~* [^/]+/customs/extensions/api\\.php$ {\n  return 403;\n}\n\n# No direct access to custom API endpoint files\nlocation ~* /customs/endpoints/ {\n  deny all;\n}\n\ninclude pagespeed.conf;\n")])])]),n("h3",{attrs:{id:"pagespeed-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pagespeed-conf","aria-hidden":"true"}},[e._v("#")]),e._v(" "),n("code",[e._v("pagespeed.conf")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# Prevent PageSpeed module from rewriting/breaking the templates files\npagespeed Disallow */app/**/*.html;\n")])])])])},[],!1,null,null,null);i.options.__file="setup-nginx.md";t.default=i.exports}}]);